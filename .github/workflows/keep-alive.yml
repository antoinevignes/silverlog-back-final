name: Keep Alive Backend
on:
    schedule:
        - cron: "*/5 * * * *"
    workflow_dispatch:

jobs:
    ping:
        runs-on: ubuntu-latest
        steps:
            - name: Ping Backend
              env:
                  URL: ${{ secrets.BACKEND_URL }}
              run: |
                  STATUS=$(curl -s -o /dev/null -w "%{http_code}" "$URL")
                  echo "Ping sent to hidden URL. Status received: $STATUS"
                  if [ $STATUS -ne 200 ]; then
                    echo "Error: Backend returned $STATUS"
                    exit 1
                  fi
